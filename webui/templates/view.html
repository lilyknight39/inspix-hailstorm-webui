{{ define "view.html" }}
<section class="page-head">
  <div>
    <p class="eyebrow" data-i18n="view.eyebrow">Entry</p>
    <h1 id="entryTitle" class="page-title">Loading...</h1>
    <p id="entrySubtitle" class="page-subtitle">Fetching details</p>
  </div>
</section>

<section class="panel-grid view-grid">
  <div class="panel-card">
    <div class="panel-header">
      <h2 data-i18n="view.metadata">Metadata</h2>
    </div>
    <table class="table table-borderless meta-table">
      <tbody>
        <tr>
          <th data-i18n="view.label">Label</th>
          <td id="metaLabel">-</td>
        </tr>
        <tr>
          <th data-i18n="search.field.type">Type</th>
          <td id="metaType">-</td>
        </tr>
        <tr>
          <th data-i18n="view.resource">Resource</th>
          <td id="metaResource">-</td>
        </tr>
        <tr>
          <th data-i18n="view.size">Size</th>
          <td id="metaSize">-</td>
        </tr>
        <tr>
          <th data-i18n="view.checksum">Checksum</th>
          <td id="metaChecksum">-</td>
        </tr>
        <tr>
          <th data-i18n="view.seed">Seed</th>
          <td id="metaSeed">-</td>
        </tr>
        <tr>
          <th data-i18n="view.priority">Priority</th>
          <td id="metaPriority">-</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="panel-card">
    <div class="panel-header">
      <h2 data-i18n="view.files">Files</h2>
    </div>
    <div class="file-actions">
      <a
        id="downloadRaw"
        class="btn btn-outline-dark w-100"
        href="#"
        data-i18n="view.downloadRaw"
      >
        Download raw
      </a>
      <a
        id="downloadPlain"
        class="btn btn-primary w-100"
        href="#"
        data-i18n="view.downloadPlain"
      >
        Download plain
      </a>
      <a
        id="downloadYaml"
        class="btn btn-outline-dark w-100"
        href="#"
        data-i18n="view.downloadYaml"
      >
        Download YAML
      </a>
    </div>
      <div class="file-meta">
        <div>
          <span class="badge" data-i18n="view.raw">Raw</span>
          <span id="rawStatus">-</span>
        </div>
        <div>
          <span class="badge" data-i18n="view.plain">Plain</span>
          <span id="plainStatus">-</span>
        </div>
        <div>
          <span class="badge" data-i18n="view.yaml">YAML</span>
          <span id="yamlStatus">-</span>
        </div>
      </div>
  </div>

  <div class="panel-card">
    <div class="panel-header">
      <h2 data-i18n="view.preview">Preview</h2>
    </div>
    <div id="previewContainer" class="preview-shell">No preview.</div>
    <div class="preview-actions">
      <button
        id="previewExportBtn"
        class="btn btn-outline-dark"
        data-i18n="view.exportPreview"
      >
        Export & Preview
      </button>
      <div id="previewExportHint" class="text-muted"></div>
      <div class="preview-config text-muted">
        <div data-i18n="view.previewConfigAssetbundle">
          Assetbundle export: set ASSETRIPPER_DIR to the AssetRipper folder.
        </div>
        <div data-i18n="view.previewConfigService">
          Inspix-hailstorm will start AssetRipper headless and call its export API.
        </div>
        <div data-i18n="view.previewConfigAcb">
          ACB audio preview: require vgmstream-cli + ffmpeg in PATH.
        </div>
        <div data-i18n="view.previewConfigCache">
          Outputs cached under cache/webui-preview.
        </div>
        <div class="preview-config-link">
          <span data-i18n="view.previewConfigReadme">Detailed steps in</span>
          <a href="/readme" data-lang-link="true">README.md</a>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="panel-card">
  <div class="panel-header">
    <h2 data-i18n="view.dependencies">Dependencies</h2>
  </div>
  <div id="depList" class="pill-grid">No dependencies.</div>
</section>

<section class="panel-card">
  <div class="panel-header">
    <h2 data-i18n="view.contentTypes">Content types</h2>
  </div>
  <div id="contentList" class="pill-grid">None.</div>
</section>

<section class="panel-card">
  <div class="panel-header">
    <h2 data-i18n="view.categories">Categories</h2>
  </div>
  <div id="categoryList" class="pill-grid">None.</div>
</section>

<script>
  const entryLabel = "{{ .Label }}";
</script>
<script type="module" src="https://cdn.jsdelivr.net/npm/@google/model-viewer/dist/model-viewer.min.js"></script>
<script src="/static/js/view.js" defer></script>
{{ end }}
